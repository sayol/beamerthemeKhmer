\ProvidesPackage{beamerthemeKhmer}
\mode<presentation>
\hypersetup{pdfpagemode=FullScreen}
%
\newif\ifbeamer@secheader
\beamer@secheaderfalse
%
\DeclareOptionBeamer{secheader}{\beamer@secheadertrue}
\ProcessOptionsBeamer
%
\usefonttheme{khmeros}
\usecolortheme{magenta}
\useinnertheme{rounded}
\useinnertheme{circles}
\useoutertheme{infolines}
%
\ifbeamer@secheader\else\setbeamertemplate{headline}[default]\fi
%
\setbeamercovered{transparent}
%
\setbeamertemplate{theorems}[numbered]
%\setbeamertemplate{frametitle}[default][left]%left,right,center
%
\setlength{\leftmargini}{2.75ex}
\setlength{\leftmarginii}{2.75ex}
\setlength{\leftmarginiii}{2.75ex}
%
\addtobeamertemplate{frametitle}{
    \def\insertframetitle{\thesection.~\insertsection}}{}
\addtobeamertemplate{frametitle}{
    \let\insertframesubtitle\insertsubsectionhead}{}
\CheckCommand*\beamer@checkframetitle{\@ifnextchar\bgroup\beamer@inlineframetitle{}}
\renewcommand*\beamer@checkframetitle{\global\let\beamer@frametitle\relax\@ifnextchar\bgroup\beamer@inlineframetitle{}}
%
\defbeamertemplate{section in toc}{section numbered khmer}{%
    \leavevmode\leftskip=2ex%
    \llap{%
        \usebeamerfont*{section number projected}%
        \usebeamercolor{section number projected}%
        \begin{pgfpicture}{-1ex}{0ex}{1ex}{2ex}
            \color{bg}
            \pgfpathcircle{\pgfpoint{0pt}{1.025ex}}{1.2ex}
            \pgfusepath{fill}
            \pgftext[base,y=.325ex]{%
                \color{fg}\khmernumeral\inserttocsectionnumber}
        \end{pgfpicture}\kern1.25ex%
    }%
    \inserttocsection\par}
\setbeamertemplate{section in toc}[section numbered khmer]
%
\AtBeginSection[] % Do nothing for \section*
{
    \begin{frame}
        \tableofcontents[currentsection]
    \end{frame}
}
%
\mode<all>
\endinput